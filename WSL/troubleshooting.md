---
title: Résolution des problèmes de la Susbystem Windows pour Linux
description: Fournit des informations détaillées sur les erreurs courantes et émet des personnes de rencontrer lors de l’exécution de Linux sur le Susbystem Windows pour Linux.
keywords: BashOnWindows, bash, wsl, windows, windowssubsystem, ubuntu
author: scooley
ms.author: scooley
ms.date: 11/15/2017
ms.topic: article
ms.assetid: 6753f1b2-200e-49cc-93a5-4323e1117246
ms.custom: seodec18
ms.openlocfilehash: 055bdc02dcf8f078caa014abd6dd755a47c99cfe
ms.sourcegitcommit: ca08a78925880ed3eccf88edb30def16c83f2543
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/04/2019
ms.locfileid: "59063297"
---
# <a name="troubleshooting-windows-subsystem-for-linux"></a><span data-ttu-id="69eed-104">Résolution des problèmes sous-système Windows pour Linux</span><span class="sxs-lookup"><span data-stu-id="69eed-104">Troubleshooting Windows Subsystem for Linux</span></span>

### <a name="bash-loses-network-connectivity-once-connected-to-a-vpn"></a><span data-ttu-id="69eed-105">Bash perd la connectivité de réseau une fois connectée à un réseau privé virtuel</span><span class="sxs-lookup"><span data-stu-id="69eed-105">Bash loses network connectivity once connected to a VPN</span></span>

<span data-ttu-id="69eed-106">Si après la connexion à un réseau privé virtuel sur Windows, bash perd la connectivité réseau, essayez cette solution de contournement à partir de bash.</span><span class="sxs-lookup"><span data-stu-id="69eed-106">If after connecting to a VPN on Windows, bash loses network connectivity, try this workaround from within bash.</span></span> <span data-ttu-id="69eed-107">Cette solution de contournement vous permettra de remplacer manuellement la résolution DNS via `/etc/resolv.conf`.</span><span class="sxs-lookup"><span data-stu-id="69eed-107">This workaround will allow you to manually override the DNS resolution through `/etc/resolv.conf`.</span></span>

1. <span data-ttu-id="69eed-108">Prenez note du serveur DNS de la connexion VPN à partir de cette opération</span><span class="sxs-lookup"><span data-stu-id="69eed-108">Take a note of the DNS server of the VPN from doing</span></span> `ipconfig.exe /all`
2. <span data-ttu-id="69eed-109">Faites une copie de resolv.conf existant `sudo cp /etc/resolv.conf /etc/resolv.conf.new`</span><span class="sxs-lookup"><span data-stu-id="69eed-109">Make a copy of the existing resolv.conf `sudo cp /etc/resolv.conf /etc/resolv.conf.new`</span></span>
3. <span data-ttu-id="69eed-110">Dissocier le resolv.con actuel `sudo unlink /etc/resolv.conf`</span><span class="sxs-lookup"><span data-stu-id="69eed-110">Unlink the current resolv.con `sudo unlink /etc/resolv.conf`</span></span>
4. `sudo mv /etc/resolv.conf.new /etc/resolv.conf`
5. <span data-ttu-id="69eed-111">Ouvrez `/etc/resolv.conf` et</span><span class="sxs-lookup"><span data-stu-id="69eed-111">Open `/etc/resolv.conf` and</span></span> <br/>
   <span data-ttu-id="69eed-112">a.</span><span class="sxs-lookup"><span data-stu-id="69eed-112">a.</span></span> <span data-ttu-id="69eed-113">Supprimez la première ligne du fichier, qui porte la mention «\# ce fichier a été automatiquement généré par WSL.</span><span class="sxs-lookup"><span data-stu-id="69eed-113">Delete the first line from the file, which says "\# This file was automatically generated by WSL.</span></span> <span data-ttu-id="69eed-114">Pour arrêter la génération automatique de ce fichier, supprimez cette ligne. ».</span><span class="sxs-lookup"><span data-stu-id="69eed-114">To stop automatic generation of this file, remove this line.".</span></span> <br/>
   <span data-ttu-id="69eed-115">b.</span><span class="sxs-lookup"><span data-stu-id="69eed-115">b.</span></span> <span data-ttu-id="69eed-116">Ajoutez l’entrée DNS à partir de (1) ci-dessus en tant que la toute première entrée dans la liste des serveurs DNS.</span><span class="sxs-lookup"><span data-stu-id="69eed-116">Add the DNS entry from (1) above as the very first entry in the list of DNS servers.</span></span> <br/>
   <span data-ttu-id="69eed-117">c.</span><span class="sxs-lookup"><span data-stu-id="69eed-117">c.</span></span> <span data-ttu-id="69eed-118">Fermez le fichier.</span><span class="sxs-lookup"><span data-stu-id="69eed-118">Close the file.</span></span> <br/>

<span data-ttu-id="69eed-119">Une fois que vous avez déconnecté du VPN, vous devrez rétablir les modifications apportées à `/etc/resolv.conf`.</span><span class="sxs-lookup"><span data-stu-id="69eed-119">Once you have disconnected the VPN, you will have to revert the changes to `/etc/resolv.conf`.</span></span> <span data-ttu-id="69eed-120">Pour ce faire, effectuez :</span><span class="sxs-lookup"><span data-stu-id="69eed-120">To do this, do:</span></span>
1. `cd /etc`
2. `sudo mv resolv.conf resolv.conf.new`
3. `sudo ln -s ../run/resolvconf/resolv.conf resolv.conf`

### <a name="starting-wsl-or-installing-a-distribution-returns-an-error-code"></a><span data-ttu-id="69eed-121">Démarrage WSL ou de l’installation d’une distribution retourne un code d’erreur</span><span class="sxs-lookup"><span data-stu-id="69eed-121">Starting WSL or installing a distribution returns an error code</span></span>

<span data-ttu-id="69eed-122">Suivez [ces instructions](https://github.com/Microsoft/WSL/blob/master/CONTRIBUTING.md#8-detailed-logs) pour collecter des journaux détaillés et de signaler un problème sur notre GitHub.</span><span class="sxs-lookup"><span data-stu-id="69eed-122">Follow [these instructions](https://github.com/Microsoft/WSL/blob/master/CONTRIBUTING.md#8-detailed-logs) to collect detailed logs and file an issue on our GitHub.</span></span>

### <a name="updating-bash-on-ubuntu-on-windows"></a><span data-ttu-id="69eed-123">La mise à jour de Bash sur Ubuntu sur Windows</span><span class="sxs-lookup"><span data-stu-id="69eed-123">Updating Bash on Ubuntu on Windows</span></span>

<span data-ttu-id="69eed-124">Il existe deux composants de Bash sur Ubuntu sur Windows qui peuvent nécessiter la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="69eed-124">There are two components of Bash on Ubuntu on Windows that can require updating.</span></span> 

1. <span data-ttu-id="69eed-125">Le sous-système Windows pour Linux</span><span class="sxs-lookup"><span data-stu-id="69eed-125">The Windows Subsystem for Linux</span></span>
  
   <span data-ttu-id="69eed-126">La mise à niveau de cette partie de Bash sur Ubuntu sur Windows activera la toute nouvelle contours de correctifs dans le [notes de version](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes).</span><span class="sxs-lookup"><span data-stu-id="69eed-126">Upgrading this portion of Bash on Ubuntu on Windows will enable any new fixes outlines in the [release notes](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes).</span></span> <span data-ttu-id="69eed-127">Assurez-vous que vous êtes inscrit au programme Windows Insider et que votre build est à jour.</span><span class="sxs-lookup"><span data-stu-id="69eed-127">Ensure that you are subscribed to the Windows Insider Program and that your build is up to date.</span></span> <span data-ttu-id="69eed-128">Pour un contrôle plus précis, y compris la réinitialisation de votre Ubuntu grain de l’instance, consultez la [page de référence de commande](https://msdn.microsoft.com/en-us/commandline/wsl/reference).</span><span class="sxs-lookup"><span data-stu-id="69eed-128">For finer grain control including resetting your Ubuntu instance check out the [command reference page](https://msdn.microsoft.com/en-us/commandline/wsl/reference).</span></span>

2. <span data-ttu-id="69eed-129">Les binaires d’utilisateur Ubuntu</span><span class="sxs-lookup"><span data-stu-id="69eed-129">The Ubuntu user binaries</span></span> 

   <span data-ttu-id="69eed-130">La mise à niveau de cette partie de Bash sur Ubuntu sur Windows installe les mises à jour pour les binaires d’utilisateur Ubuntu, y compris les applications que vous avez installés via apt-get.</span><span class="sxs-lookup"><span data-stu-id="69eed-130">Upgrading this portion of Bash on Ubuntu on Windows will install any updates to the Ubuntu user binaries including applications that you have installed via apt-get.</span></span> <span data-ttu-id="69eed-131">Pour mettre à jour d’exécuter les commandes suivantes dans l’interpréteur de commandes :</span><span class="sxs-lookup"><span data-stu-id="69eed-131">To update run the following commands in Bash:</span></span>
  
   1. `apt-get update`
   2. `apt-get upgrade`
  
### <a name="apt-get-upgrade-errors"></a><span data-ttu-id="69eed-132">Erreurs de mise à niveau d’apt-get</span><span class="sxs-lookup"><span data-stu-id="69eed-132">Apt-get upgrade errors</span></span>
<span data-ttu-id="69eed-133">Certains packages utilisent les fonctionnalités que nous n’avons pas encore implémentée.</span><span class="sxs-lookup"><span data-stu-id="69eed-133">Some packages use features that we haven't implemented yet.</span></span> `udev`<span data-ttu-id="69eed-134">, par exemple, n’est pas encore pris en charge et empêche plusieurs `apt-get upgrade` erreurs.</span><span class="sxs-lookup"><span data-stu-id="69eed-134">, for example, isn't supported yet and causes several `apt-get upgrade` errors.</span></span>

<span data-ttu-id="69eed-135">Pour résoudre les problèmes liés à `udev`, suivez les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="69eed-135">To fix issues related to `udev`, follow the following steps:</span></span>

1. <span data-ttu-id="69eed-136">Écrivez le code suivant à `/usr/sbin/policy-rc.d` et enregistrez vos modifications.</span><span class="sxs-lookup"><span data-stu-id="69eed-136">Write the following to `/usr/sbin/policy-rc.d` and save your changes.</span></span>
  
   ``` BASH
   #!/bin/sh
   exit 101
   ```
  
2. <span data-ttu-id="69eed-137">Ajouter des autorisations d’exécution</span><span class="sxs-lookup"><span data-stu-id="69eed-137">Add execute permissions to</span></span> `/usr/sbin/policy-rc.d`
   ``` BASH
   chmod +x /usr/sbin/policy-rc.d
   ```
  
3. <span data-ttu-id="69eed-138">Exécutez les commandes suivantes</span><span class="sxs-lookup"><span data-stu-id="69eed-138">Run the following commands</span></span>
   ``` BASH
   dpkg-divert --local --rename --add /sbin/initctl
   ln -s /bin/true /sbin/initctl
   ```
  
### <a name="error-0x80040306-on-installation"></a><span data-ttu-id="69eed-139">« Erreur : 0x80040306 » sur l’installation</span><span class="sxs-lookup"><span data-stu-id="69eed-139">"Error: 0x80040306" on installation</span></span>
<span data-ttu-id="69eed-140">Cela a à voir avec le fait que nous ne prennent pas en charge l’ancienne console.</span><span class="sxs-lookup"><span data-stu-id="69eed-140">This has to do with the fact that we do not support legacy console.</span></span>
<span data-ttu-id="69eed-141">Pour désactiver l’ancienne console :</span><span class="sxs-lookup"><span data-stu-id="69eed-141">To turn off legacy console:</span></span>

1. <span data-ttu-id="69eed-142">Ouvrez cmd.exe</span><span class="sxs-lookup"><span data-stu-id="69eed-142">Open cmd.exe</span></span>
1. <span data-ttu-id="69eed-143">Cliquez avec le bouton droit sur titre de la barre -> Propriétés -> utiliser décochez l’ancienne console</span><span class="sxs-lookup"><span data-stu-id="69eed-143">Right click title bar -> Properties -> Uncheck Use legacy console</span></span>
1. <span data-ttu-id="69eed-144">Cliquez sur OK</span><span class="sxs-lookup"><span data-stu-id="69eed-144">Click OK</span></span>

### <a name="error-0x80040154-after-windows-update"></a><span data-ttu-id="69eed-145">« Erreur : 0 x 80040154 » après la mise à jour de Windows</span><span class="sxs-lookup"><span data-stu-id="69eed-145">"Error: 0x80040154" after Windows update</span></span>
<span data-ttu-id="69eed-146">Le sous-système Windows pour Linux fonctionnalité peut être désactivé pendant une mise à jour de Windows.</span><span class="sxs-lookup"><span data-stu-id="69eed-146">The Windows Subsystem for Linux feature may be disabled during a Windows update.</span></span> <span data-ttu-id="69eed-147">Dans ce cas, la fonctionnalité de Windows doit être réactivée.</span><span class="sxs-lookup"><span data-stu-id="69eed-147">If this happens the Windows feature must be re-enabled.</span></span> <span data-ttu-id="69eed-148">Des instructions pour activer le sous-système Windows pour Linux sont disponibles dans le [Guide d’Installation](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui).</span><span class="sxs-lookup"><span data-stu-id="69eed-148">Instructions for enabling the Windows Subsystem for Linux can be found in the [Installation Guide](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-guihttps://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui).</span></span>

### <a name="changing-the-display-language"></a><span data-ttu-id="69eed-149">Modification de la langue d’affichage</span><span class="sxs-lookup"><span data-stu-id="69eed-149">Changing the display language</span></span>
<span data-ttu-id="69eed-150">Installation WSL tente de modifier automatiquement les paramètres régionaux Ubuntu pour faire correspondre les paramètres régionaux de votre installation de Windows.</span><span class="sxs-lookup"><span data-stu-id="69eed-150">WSL install will try to automatically change the Ubuntu locale to match the locale of your Windows install.</span></span>  <span data-ttu-id="69eed-151">Si vous ne souhaitez pas ce comportement, vous pouvez exécuter cette commande pour modifier les paramètres régionaux Ubuntu, une fois l’installation terminée.</span><span class="sxs-lookup"><span data-stu-id="69eed-151">If you do not want this behavior you can run this command to change the Ubuntu locale after install completes.</span></span>  <span data-ttu-id="69eed-152">Vous devez relancer bash.exe pour que cette modification prenne effet.</span><span class="sxs-lookup"><span data-stu-id="69eed-152">You will have to relaunch bash.exe for this change to take effect.</span></span>

<span data-ttu-id="69eed-153">Le ci-dessous exemple modifie les paramètres régionaux en-US :</span><span class="sxs-lookup"><span data-stu-id="69eed-153">The below example changes to locale to en-US:</span></span>
``` BASH
sudo update-locale LANG=en_US.UTF8
```

### <a name="installation-issues-after-windows-system-restore"></a><span data-ttu-id="69eed-154">Problèmes d’installation après la restauration du système Windows</span><span class="sxs-lookup"><span data-stu-id="69eed-154">Installation issues after Windows system restore</span></span>
1.  <span data-ttu-id="69eed-155">Supprimer le `%windir%\System32\Tasks\Microsoft\Windows\Windows Subsystem for Linux` dossier.</span><span class="sxs-lookup"><span data-stu-id="69eed-155">Delete the `%windir%\System32\Tasks\Microsoft\Windows\Windows Subsystem for Linux` folder.</span></span> <br/>
  **<span data-ttu-id="69eed-156">Remarque: Ne le faites pas cela si votre fonctionnalité facultative est entièrement installée et fonctionne.</span><span class="sxs-lookup"><span data-stu-id="69eed-156">Note: Do not do this if your optional feature is fully installed and working.</span></span>**
2.  <span data-ttu-id="69eed-157">Activer la fonctionnalité facultative WSL (si pas déjà)</span><span class="sxs-lookup"><span data-stu-id="69eed-157">Enable the WSL optional feature (if not already)</span></span>
3.  <span data-ttu-id="69eed-158">Redémarrer</span><span class="sxs-lookup"><span data-stu-id="69eed-158">Reboot</span></span>
4.  <span data-ttu-id="69eed-159">lxrun / désinstaller/total</span><span class="sxs-lookup"><span data-stu-id="69eed-159">lxrun /uninstall /full</span></span>
5.  <span data-ttu-id="69eed-160">Installer l’interpréteur de commandes</span><span class="sxs-lookup"><span data-stu-id="69eed-160">Install bash</span></span>

### <a name="no-internet-access-in-wsl"></a><span data-ttu-id="69eed-161">Aucun accès internet dans WSL</span><span class="sxs-lookup"><span data-stu-id="69eed-161">No internet access in WSL</span></span>
<span data-ttu-id="69eed-162">Certains utilisateurs ont signalé des problèmes avec les applications de pare-feu spécifiques bloque l’accès internet dans WSL.</span><span class="sxs-lookup"><span data-stu-id="69eed-162">Some users have reported issues with specific firewall applications blocking internet access in WSL.</span></span>  <span data-ttu-id="69eed-163">Les pare-feux signalés sont :</span><span class="sxs-lookup"><span data-stu-id="69eed-163">The firewalls reported are:</span></span>

1. <span data-ttu-id="69eed-164">Kaspersky</span><span class="sxs-lookup"><span data-stu-id="69eed-164">Kaspersky</span></span>
1. <span data-ttu-id="69eed-165">AVG</span><span class="sxs-lookup"><span data-stu-id="69eed-165">AVG</span></span>
1. <span data-ttu-id="69eed-166">Avast</span><span class="sxs-lookup"><span data-stu-id="69eed-166">Avast</span></span>

<span data-ttu-id="69eed-167">Dans certains cas désactiver le pare-feu autorise l’accès.</span><span class="sxs-lookup"><span data-stu-id="69eed-167">In some cases turning off the firewall allows for access.</span></span>  <span data-ttu-id="69eed-168">Dans certains cas le simple fait d’avoir le pare-feu installé recherche pour bloquer l’accès.</span><span class="sxs-lookup"><span data-stu-id="69eed-168">In some cases simply having the firewall installed looks to block access.</span></span>

### <a name="permission-denied-error-when-using-ping"></a><span data-ttu-id="69eed-169">Erreur autorisation refusée lors de l’utilisation de ping</span><span class="sxs-lookup"><span data-stu-id="69eed-169">Permission Denied error when using ping</span></span>
#### [<a name="anniversary-update"></a><span data-ttu-id="69eed-170">Mise à jour anniversaire</span><span class="sxs-lookup"><span data-stu-id="69eed-170">Anniversary Update</span></span>](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes#build-14388-to-windows-10-anniversary-update) 

<span data-ttu-id="69eed-171">Privilèges d’administrateur dans Windows sont requis pour exécuter un test ping dans WSL.</span><span class="sxs-lookup"><span data-stu-id="69eed-171">Administrator privileges in Windows are required to run ping in WSL.</span></span>  <span data-ttu-id="69eed-172">Pour exécuter la commande ping, exécutez Bash sur Ubuntu sur Windows en tant qu’administrateur, ou exécutez bash.exe à partir d’une invite CMD/PowerShell avec des privilèges d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="69eed-172">To run ping, run Bash on Ubuntu on Windows as an administrator, or run bash.exe from a CMD/PowerShell prompt with administrator privileges.</span></span>

#### [<a name="build-14926"></a><span data-ttu-id="69eed-173">Build 14926 +</span><span class="sxs-lookup"><span data-stu-id="69eed-173">Build 14926+</span></span>](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes#build-14926)
  <span data-ttu-id="69eed-174">Privilèges d’administrateur n’est plus nécessaires.</span><span class="sxs-lookup"><span data-stu-id="69eed-174">Administrator privileges no longer required.</span></span>

### <a name="bash-is-hung"></a><span data-ttu-id="69eed-175">Bash est bloqué</span><span class="sxs-lookup"><span data-stu-id="69eed-175">Bash is hung</span></span>
<span data-ttu-id="69eed-176">Si tout en travaillant avec bash, vous trouvez que bash est bloqué (ou bloquée) et ne répond ne pas aux entrées, nous aider à diagnostiquer le problème en collectant et envoyant un vidage de mémoire.</span><span class="sxs-lookup"><span data-stu-id="69eed-176">If while working with bash, you find that bash is hung (or deadlocked) and not responding to inputs, help us diagnose the issue by collecting and reporting a memory dump.</span></span> <span data-ttu-id="69eed-177">Notez que ces étapes seront bloque votre système.</span><span class="sxs-lookup"><span data-stu-id="69eed-177">Note that these steps will crash your system.</span></span> <span data-ttu-id="69eed-178">Ne le faites pas cela si vous n’êtes pas familiarisé avec qui ou que vous enregistrez votre travail avant de faire cela.</span><span class="sxs-lookup"><span data-stu-id="69eed-178">Do not do this if you are not comfortable with that or save your work prior to doing this.</span></span>  <br/>
<span data-ttu-id="69eed-179">Pour collecter un vidage de mémoire :</span><span class="sxs-lookup"><span data-stu-id="69eed-179">To collect a memory dump:</span></span>
1. <span data-ttu-id="69eed-180">Modifier le type de vidage de mémoire pour « image mémoire complète ».</span><span class="sxs-lookup"><span data-stu-id="69eed-180">Change the memory dump type to "complete memory dump".</span></span> <span data-ttu-id="69eed-181">Lors de la modification du type de vidage, prenez note de votre type actuel.</span><span class="sxs-lookup"><span data-stu-id="69eed-181">While changing the dump type, take a note of your current type.</span></span>
2. <span data-ttu-id="69eed-182">Utilisez le [étapes](https://blogs.technet.microsoft.com/askpfeplat/2015/04/05/how-to-force-a-diagnostic-memory-dump-when-a-computer-hangs/) pour configurer l’incident à l’aide du contrôle de clavier.</span><span class="sxs-lookup"><span data-stu-id="69eed-182">Use the [steps](https://blogs.technet.microsoft.com/askpfeplat/2015/04/05/how-to-force-a-diagnostic-memory-dump-when-a-computer-hangs/) to configure crash using keyboard control.</span></span>
3. <span data-ttu-id="69eed-183">Reproduction le blocage ou le blocage.</span><span class="sxs-lookup"><span data-stu-id="69eed-183">Repro the hang or deadlock.</span></span>
4. <span data-ttu-id="69eed-184">Arrêter le système à l’aide de la séquence de touches à partir de (2).</span><span class="sxs-lookup"><span data-stu-id="69eed-184">Crash the system using the key sequence from (2).</span></span>
5. <span data-ttu-id="69eed-185">Le système de se bloquer et collecter l’image mémoire.</span><span class="sxs-lookup"><span data-stu-id="69eed-185">The system will crash and collect the memory dump.</span></span>
6. <span data-ttu-id="69eed-186">Une fois que le système redémarre, signaler memory.dmp à secure@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="69eed-186">Once the system reboots, report the memory.dmp to secure@microsoft.com.</span></span> <span data-ttu-id="69eed-187">L’emplacement par défaut du fichier de vidage est %SystemRoot%\memory.dmp ou C:\Windows\memory.dmp si C: est le lecteur système.</span><span class="sxs-lookup"><span data-stu-id="69eed-187">The default location of the dump file is %SystemRoot%\memory.dmp or C:\Windows\memory.dmp if C: is the system drive.</span></span> <span data-ttu-id="69eed-188">Dans l’e-mail, notez que le vidage concerne le WSL ou Bash sur l’équipe de Windows.</span><span class="sxs-lookup"><span data-stu-id="69eed-188">In the email, note that the dump is for the WSL or Bash on Windows team.</span></span>
7. <span data-ttu-id="69eed-189">Restaurer le type de vidage de mémoire pour le paramètre d’origine.</span><span class="sxs-lookup"><span data-stu-id="69eed-189">Restore the memory dump type to the original setting.</span></span>

### <a name="check-your-build-number"></a><span data-ttu-id="69eed-190">Vérifier votre numéro de build</span><span class="sxs-lookup"><span data-stu-id="69eed-190">Check your build number</span></span>

<span data-ttu-id="69eed-191">Pour rechercher le que numéro de build de Windows et architecture de votre ordinateur, ouvrez</span><span class="sxs-lookup"><span data-stu-id="69eed-191">To find your PC's architecture and Windows build number, open</span></span>  
<span data-ttu-id="69eed-192">**Paramètres** > **système** > **sur**</span><span class="sxs-lookup"><span data-stu-id="69eed-192">**Settings** > **System** > **About**</span></span>

<span data-ttu-id="69eed-193">Recherchez le **Build du système d’exploitation** et **système Type** champs.</span><span class="sxs-lookup"><span data-stu-id="69eed-193">Look for the **OS Build** and **System Type** fields.</span></span>  
    ![Capture d’écran de Build et le Type de système de champs](media/system.png) 


<span data-ttu-id="69eed-195">Pour rechercher votre numéro de build de Windows Server, exécutez la commande suivante dans PowerShell :</span><span class="sxs-lookup"><span data-stu-id="69eed-195">To find your Windows Server build number, run the following in PowerShell:</span></span>  
``` PowerShell
systeminfo | Select-String "^OS Name","^OS Version"
```

### <a name="confirm-wsl-is-enabled"></a><span data-ttu-id="69eed-196">Confirmer que WSL est activée</span><span class="sxs-lookup"><span data-stu-id="69eed-196">Confirm WSL is enabled</span></span>
<span data-ttu-id="69eed-197">Vous pouvez vérifier que le sous-système Windows pour Linux est activé en exécutant la commande suivante dans PowerShell :</span><span class="sxs-lookup"><span data-stu-id="69eed-197">You can confirm that the Windows Subsystem for Linux is enabled by running the following in PowerShell:</span></span>  
``` PowerShell
PowerShell
Get-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
```

### <a name="openssh-server-connection-issues"></a><span data-ttu-id="69eed-198">Problèmes de connexion OpenSSH-Server</span><span class="sxs-lookup"><span data-stu-id="69eed-198">OpenSSH-Server connection issues</span></span>
<span data-ttu-id="69eed-199">Essayez de vous connecter à votre serveur SSH est a échoué avec l’erreur suivante : « Connexion fermée par 127.0.0.1 port 22 ».</span><span class="sxs-lookup"><span data-stu-id="69eed-199">Trying to connect your SSH server is failed with the following error: "Connection closed by 127.0.0.1 port 22".</span></span>
1. <span data-ttu-id="69eed-200">Assurez-vous que votre serveur OpenSSH est en cours d’exécution :</span><span class="sxs-lookup"><span data-stu-id="69eed-200">Make sure your OpenSSH Server is running:</span></span>
   ``` BASH
   sudo service ssh status
   ```
   <span data-ttu-id="69eed-201">et que vous avez suivi ce didacticiel : https://help.ubuntu.com/lts/serverguide/openssh-server.html.en</span><span class="sxs-lookup"><span data-stu-id="69eed-201">and you've followed this tutorial: https://help.ubuntu.com/lts/serverguide/openssh-server.html.en</span></span>
2. <span data-ttu-id="69eed-202">Arrêter le service sshd et démarrez sshd en mode débogage :</span><span class="sxs-lookup"><span data-stu-id="69eed-202">Stop the sshd service and start sshd in debug mode:</span></span>
   ``` BASH
   sudo service ssh stop
   sudo /usr/sbin/sshd -d
   ```
3. <span data-ttu-id="69eed-203">Vérifiez les journaux de démarrage et assurez-vous que les clés d’hôte sont disponibles et vous ne voyez pas les messages de journal comme : debug1 : version sshd OpenSSH_7.2, OpenSSL 1.0.2g 1er mars 2016 debug1 : key_load_private : mot de passe incorrect fourni pour déchiffrer debug1 de clé privée : key_load_public : Ce fichier ou répertoire n’a pas pu charger clé d’hôte : /etc/ssh/ssh_host_rsa_key debug1 : key_load_private : Ce type debug1 aucun fichier ou répertoire : key_load_public : Ce fichier ou répertoire n’a pas pu charger clé d’hôte : /etc/ssh/ssh_host_dsa_key debug1 : key_load_private : Ce type debug1 aucun fichier ou répertoire : key_load_public : Ce fichier ou répertoire n’a pas pu charger clé d’hôte : /etc/ssh/ssh_host_ecdsa_key debug1 : key_load_private : Ce type debug1 aucun fichier ou répertoire : key_load_public : Ce fichier ou répertoire n’a pas pu charger clé d’hôte : /etc/ssh/ssh_host_ed25519_key</span><span class="sxs-lookup"><span data-stu-id="69eed-203">Check the startup logs and make sure HostKeys are available and you don't see log messages such as: debug1: sshd version OpenSSH_7.2, OpenSSL 1.0.2g  1 Mar 2016 debug1: key_load_private: incorrect passphrase supplied to decrypt private key debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_rsa_key debug1: key_load_private: No such file or directory debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_dsa_key debug1: key_load_private: No such file or directory debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_ecdsa_key debug1: key_load_private: No such file or directory debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_ed25519_key</span></span>

<span data-ttu-id="69eed-204">Si vous ne voyez pas ces messages et des clés sont manquantes sous `/etc/ssh/`, vous devrez régénérer les clés ou juste purger & Installer openssh-server :</span><span class="sxs-lookup"><span data-stu-id="69eed-204">If you do see such messages and the keys are missing under `/etc/ssh/`, you will have to regenerate the keys or just purge&install openssh-server:</span></span>
```BASH
sudo apt-get purge openssh-server
sudo apt-get install openssh-server
```

