---
title: Modifications de l’expérience utilisateur entre WSL 1 et 2 de WSL
description: Modifications de l’expérience utilisateur entre WSL 1 et 2 de WSL
keywords: BashOnWindows, bash, wsl, wsl2, windows, le sous-système windows pour linux, windowssubsystem, ubuntu, debian, suse, windows 10
author: mscraigloewen
ms.author: mscraigloewen
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: 0660f9f726811008685de9f1ff457e7515add67a
ms.sourcegitcommit: bb88269eb37405192625fa81ff91162393fb491f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/12/2019
ms.locfileid: "67038099"
---
# <a name="user-experience-changes-between-wsl-1-and-wsl-2"></a><span data-ttu-id="ed4e1-104">Modifications de l’expérience utilisateur entre WSL 1 et 2 de WSL</span><span class="sxs-lookup"><span data-stu-id="ed4e1-104">User Experience Changes Between WSL 1 and WSL 2</span></span>

<span data-ttu-id="ed4e1-105">Cette page dépasse les différences d’expérience utilisateur entre WSL 1 et la version préliminaire WSL 2.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-105">This page goes over the user experience differences between WSL 1 and the WSL 2 preview.</span></span> <span data-ttu-id="ed4e1-106">Les principales modifications apportées à connaître sont :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-106">The key changes to be aware of are:</span></span>

- <span data-ttu-id="ed4e1-107">Placez les fichiers qui accèderont à vos applications Linux dans votre système de fichiers racine Linux pour la vitesse de performances plus rapide des fichiers</span><span class="sxs-lookup"><span data-stu-id="ed4e1-107">Place files that your Linux apps will access in your Linux root file system for faster file performance speed</span></span>
- <span data-ttu-id="ed4e1-108">Dans les versions initiales de la version préliminaire WSL 2, vous devez accéder aux applications de réseau à l’aide d’une adresse IP et n’utilisez ne pas localhost</span><span class="sxs-lookup"><span data-stu-id="ed4e1-108">In initial builds of the WSL 2 preview you will need to access network applications using an IP address and not using localhost</span></span>

<span data-ttu-id="ed4e1-109">Et Voici la liste complète des autres modifications que vous pouvez remarquer :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-109">And below is the full list of other changes that you may notice:</span></span>

- <span data-ttu-id="ed4e1-110">WSL 2 utilise un disque dur virtuel pour stocker vos fichiers et si vous atteignez sa taille maximale, vous devrez développer</span><span class="sxs-lookup"><span data-stu-id="ed4e1-110">WSL 2 uses a VHD to store your files and if you reach its max size you may need to expand it</span></span>
- <span data-ttu-id="ed4e1-111">Lors du démarrage, WSL 2 utilise désormais une petite proportion de mémoire</span><span class="sxs-lookup"><span data-stu-id="ed4e1-111">When starting, WSL 2 will now use a small proportion of memory</span></span>
- <span data-ttu-id="ed4e1-112">Entre le système d’exploitation vitesse d’accès de fichier sera plus lente dans les versions d’évaluation initiale</span><span class="sxs-lookup"><span data-stu-id="ed4e1-112">Cross OS file access speed will be slower in initial preview builds</span></span>

## <a name="place-your-linux-files-in-your-linux-root-file-system"></a><span data-ttu-id="ed4e1-113">Placez vos fichiers de Linux sur votre système de fichiers racine Linux</span><span class="sxs-lookup"><span data-stu-id="ed4e1-113">Place your Linux files in your Linux root file system</span></span>
<span data-ttu-id="ed4e1-114">Veillez à placer les fichiers que vous accédez fréquemment avec Linux applications à l’intérieur de votre Linux de fichiers racine de profiter des avantages de performances de fichier.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-114">Make sure to put the files that you will be accessing frequently with Linux applications inside of your Linux root file system to enjoy the file performance benefits.</span></span> <span data-ttu-id="ed4e1-115">Ces fichiers doivent se trouver au sein du système de fichiers racine Linux pour avoir un accès de système de fichiers plus rapide.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-115">These files have to be inside of the Linux root file system to have faster file system access.</span></span> <span data-ttu-id="ed4e1-116">Nous avons également rendu possible pour les applications Windows accéder au système de fichiers Linux racine (par exemple, l’Explorateur de fichiers !</span><span class="sxs-lookup"><span data-stu-id="ed4e1-116">We have also made it possible for Windows apps to access the Linux root file system (like File Explorer!</span></span> <span data-ttu-id="ed4e1-117">Essayez d’exécuter : `explorer.exe /` dans votre interpréteur de commandes bash et que se passe-t-il) qui rend cette transition considérablement plus facile.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-117">Try running: `explorer.exe /` in your bash shell and see what happens) which will make this transition significantly easier.</span></span> 

## <a name="accessing-network-applications"></a><span data-ttu-id="ed4e1-118">L’accès aux applications de réseau</span><span class="sxs-lookup"><span data-stu-id="ed4e1-118">Accessing network applications</span></span>
<span data-ttu-id="ed4e1-119">Dans les builds initiales de la version préliminaire WSL 2, vous devrez accéder à n’importe quel serveur Linux à partir de Windows à l’aide de l’adresse IP de votre distribution Linux et n’importe quel serveur Windows à partir de Linux à l’aide de l’adresse IP de votre ordinateur hôte.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-119">In the initial builds of the WSL 2 preview, you will need to access any Linux server from Windows using the IP address of your Linux distro, and any Windows server from Linux using the IP address of your host machine.</span></span> <span data-ttu-id="ed4e1-120">Il s’agit d’un élément qui est temporaire et très élevé de notre liste de priorité pour résoudre.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-120">This is something that is temporary, and very high on our priority list to fix.</span></span>

### <a name="accessing-linux-applications-from-windows"></a><span data-ttu-id="ed4e1-121">L’accès aux applications Linux à partir de Windows</span><span class="sxs-lookup"><span data-stu-id="ed4e1-121">Accessing Linux applications from Windows</span></span>
<span data-ttu-id="ed4e1-122">Si vous avez un serveur dans une distribution WSL, vous devrez trouver l’adresse IP de la machine virtuelle mise sous tension de votre distribution et vous y connecter avec cette adresse IP.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-122">If you have a server in a WSL distro, you'll need to find the IP address of the virtual machine powering your distro and connect to it with that IP address.</span></span> <span data-ttu-id="ed4e1-123">Pour cela, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-123">You can do that by following these steps:</span></span>

- <span data-ttu-id="ed4e1-124">Obtenir l’adresse IP de votre distribution en exécutant la commande `ip addr` à l’intérieur de votre distribution WSL et sa recherche sous la `inet` valeur de la `eth0` interface.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-124">Obtain the IP address of your distro by running the command `ip addr` inside of your WSL distro and finding it under the `inet` value of the `eth0` interface.</span></span>
   - <span data-ttu-id="ed4e1-125">Vous pouvez le trouver plus facilement en filtrant la sortie de la commande à l’aide de grep comme suit : `ip addr | grep eth0`.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-125">You can find this more easily by filtering the output of the command using grep like so: `ip addr | grep eth0`.</span></span>
- <span data-ttu-id="ed4e1-126">Se connecter à votre serveur Linux à l’aide de l’adresse IP que vous avez trouvé précédemment.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-126">Connect to your Linux server using the IP you found above.</span></span>

<span data-ttu-id="ed4e1-127">L’illustration ci-dessous montre un exemple de cela en vous connectant à un serveur de nodeJS à l’aide du navigateur Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-127">The picture below shows an example of this by connecting to a nodeJS server using the Edge browser.</span></span>

![L’accès aux applications de réseau de Linux à partir de Windows](media/wsl2-network-w2l.jpg)

### <a name="accessing-windows-applications-from-linux"></a><span data-ttu-id="ed4e1-129">L’accès aux applications Windows à partir de Linux</span><span class="sxs-lookup"><span data-stu-id="ed4e1-129">Accessing Windows applications from Linux</span></span>
<span data-ttu-id="ed4e1-130">Pour accéder à une application de réseau Windows, vous devez utiliser l’adresse IP de votre ordinateur hôte.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-130">To access a Windows network application you'll need to use the IP address of your host machine.</span></span> <span data-ttu-id="ed4e1-131">Vous pouvez le faire avec ces étapes :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-131">You can do so with these steps:</span></span>

- <span data-ttu-id="ed4e1-132">Obtenir l’adresse IP de votre ordinateur hôte en exécutant la commande `cat /etc/resolv.conf` et la copie de l’adresse IP après le terme `nameserver`.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-132">Obtain the IP address of your host machine by running the command `cat /etc/resolv.conf` and copying the IP address following the term `nameserver`.</span></span> 
- <span data-ttu-id="ed4e1-133">Se connecter à n’importe quel serveur Windows à l’aide de l’adresse IP copié.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-133">Connect to any Windows server using the copied IP address.</span></span>

<span data-ttu-id="ed4e1-134">L’illustration ci-dessous montre un exemple de cela en vous connectant à un serveur de python en cours d’exécution dans Windows via curl.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-134">The picture below shows an example of this by connecting to a python server running in Windows via curl.</span></span> 

![L’accès aux applications de réseau de Linux à partir de Windows](media/wsl2-network-l2w.png)

## <a name="understanding-wsl-2-uses-a-vhd-and-what-to-do-if-you-reach-its-max-size"></a><span data-ttu-id="ed4e1-136">Présentation de WSL 2 utilise un disque dur virtuel et que faire si vous atteignez sa taille maximale</span><span class="sxs-lookup"><span data-stu-id="ed4e1-136">Understanding WSL 2 uses a VHD, and what to do if you reach its max size</span></span>
<span data-ttu-id="ed4e1-137">WSL 2 stocke tous vos fichiers Linux à l’intérieur d’un disque dur virtuel qui utilise le système de fichiers ext4.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-137">WSL 2 stores all your Linux files inside of a VHD that uses the ext4 file system.</span></span> <span data-ttu-id="ed4e1-138">Ce disque dur virtuel est redimensionné automatiquement pour répondre à vos besoins de stockage.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-138">This VHD automatically resizes to meet your storage needs.</span></span> <span data-ttu-id="ed4e1-139">Ce disque dur virtuel a également une taille initiale maximale de 256 Go.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-139">This VHD also has an initial max size of 256GB.</span></span> <span data-ttu-id="ed4e1-140">Si votre distribution augmente en taille est supérieure à 256 Go, vous verrez des erreurs que vous avez plus d’espace disque.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-140">If your distro grows in size to be greater than 256GB you will see errors stating that you've run out of disk space.</span></span> <span data-ttu-id="ed4e1-141">Vous pouvez corriger ces en augmentant la taille de disque dur virtuel.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-141">You can fix these by expanding the VHD size.</span></span> <span data-ttu-id="ed4e1-142">Obtenir des instructions sur la marche à suivre sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-142">Instructions on how to do so are below:</span></span>

1. <span data-ttu-id="ed4e1-143">Mettre fin à toutes les instances WSL à l’aide de la `wsl --shutdown` commande</span><span class="sxs-lookup"><span data-stu-id="ed4e1-143">Terminate all WSL instances using the `wsl --shutdown` command</span></span>
2. <span data-ttu-id="ed4e1-144">Redimensionner votre disque dur virtuel de 2 WSL en effectuant les commandes suivantes</span><span class="sxs-lookup"><span data-stu-id="ed4e1-144">Resize your WSL 2 VHD by completing the following commands</span></span>
   - <span data-ttu-id="ed4e1-145">Ouvrez une fenêtre d’invite de commandes avec des privilèges d’administrateur et exécutez les commandes suivantes :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-145">Open a command prompt Window with admin privileges and run the following commands:</span></span>
      - `Select vdisk file="<pathToVHD>"`
      - `expand vdisk maximum="<sizeInMegaBytes>"`
3. <span data-ttu-id="ed4e1-146">Lancez votre distribution WSL</span><span class="sxs-lookup"><span data-stu-id="ed4e1-146">Launch your WSL distro</span></span>
4. <span data-ttu-id="ed4e1-147">Rendre WSL conscient que cela peut améliorer la taille de son système de fichiers</span><span class="sxs-lookup"><span data-stu-id="ed4e1-147">Make WSL aware that it can expand its file system's size</span></span>
   - <span data-ttu-id="ed4e1-148">Exécutez les commandes suivantes dans votre distribution WSL :</span><span class="sxs-lookup"><span data-stu-id="ed4e1-148">Run these commands in your WSL distro:</span></span>
      - `sudo mount -t devtmpfs none /dev`
      - `mount | grep ext4`
         - <span data-ttu-id="ed4e1-149">Copiez le nom de cette entrée, qui doit ressembler à : / dev/sdXX (avec un X représentant un caractère quelconque)</span><span class="sxs-lookup"><span data-stu-id="ed4e1-149">Copy the name of this entry, which will look like: /dev/sdXX (with the X representing any other character)</span></span>
      - `sudo resize2fs /dev/sdXX`
         - <span data-ttu-id="ed4e1-150">Assurez-vous d’utiliser la valeur que vous avez copiée précédemment, et vous devrez peut-être utiliser : `apt install resize2fs`.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-150">Make sure to use the value you copied earlier, and you may need to use: `apt install resize2fs`.</span></span>

## <a name="wsl-2-will-use-some-memory-on-startup"></a><span data-ttu-id="ed4e1-151">WSL 2 utilisera la mémoire au démarrage</span><span class="sxs-lookup"><span data-stu-id="ed4e1-151">WSL 2 will use some memory on startup</span></span>
<span data-ttu-id="ed4e1-152">WSL 2 utilise un utilitaire léger de machine virtuelle sur un noyau Linux réel pour fournir des performances du système de fichiers excellent et complète du système d’appel compatibilité tout en étant toujours comme light, rapide et intégrée et réactives que WSL 1.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-152">WSL 2 uses a lightweight utility VM on a real Linux kernel to provide great file system performance and full system call compatibility while still being just as light, fast, integrated and responsive as WSL 1.</span></span> <span data-ttu-id="ed4e1-153">Cet utilitaire machine virtuelle a un faible encombrement mémoire et alloue une adresse virtuelle soutenu de mémoire au démarrage.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-153">This utility VM has a small memory footprint and will allocate Virtual Address backed memory on startup.</span></span> <span data-ttu-id="ed4e1-154">Il est configuré pour démarrer avec une faible proportion de votre mémoire totale.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-154">It is configured to start with a small proportion of your total memory.</span></span>

## <a name="cross-os-file-speed-will-be-slower-in-initial-preview-builds"></a><span data-ttu-id="ed4e1-155">Entre le système d’exploitation, vitesse du fichier sera plus lente dans les versions d’évaluation initiale</span><span class="sxs-lookup"><span data-stu-id="ed4e1-155">Cross OS file speed will be slower in initial preview builds</span></span>
<span data-ttu-id="ed4e1-156">Vous remarquerez que les vitesses de fichier plus lentes par rapport à WSL 1 lors de l’accès des fichiers de Windows à partir d’une application de Linux, ou l’accès aux fichiers Linux à partir d’une application Windows.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-156">You will notice slower file speeds compared to WSL 1 when accessing Windows files from a Linux application, or accessing Linux files from a Windows application.</span></span> <span data-ttu-id="ed4e1-157">Ceci est le résultat des modifications architecturales dans WSL 2 et est quelque chose de l’équipe WSL activement examen sur la façon dont nous pouvons améliorer cette expérience.</span><span class="sxs-lookup"><span data-stu-id="ed4e1-157">This is a result of the architectural changes in WSL 2, and is something that the WSL team is actively investigating on how we can improve this experience.</span></span>